# TODO 管理

このファイルでは、MiniMikuDance プロジェクトで今後実装すべき内容を詳しく整理します。
AGENTS.md で挙げたカテゴリをより細分化し、優先度や検討事項を追記しています。
各作業が完了したらチェックボックスを更新していきます。

## ビューワー基盤
- [x] OpenTK を用いた基本ウィンドウ／レンダラーの構築
   - SKGLView と簡易 OpenTK レンダラーで 3D 表示を実装
- [x] グリッド描画機能の追加
- [ ] カメラ操作（回転・ズーム・パン）の実装
- [ ] ライティング（ディレクショナルライト・環境光）の追加
- [ ] 初期モデル読み込みテスト
- [ ] シンプルな UI 表示（FPS, 読み込み進捗）
- [x] Path 競合と PathParser 不足に起因するビルドエラー修正
- [x] SkiaSharp.Views.Maui.Controls パッケージ更新で Android リソースエラー解消
- [x] SKGLView ハンドラー登録 (UseSkiaSharp)
- [x] GL.LoadBindings を SKGLView 初期化時に呼び出し
- [x] OpenTK 用 SKGLViewBindingsContext 実装
- [x] SKGLViewBindingsContext コンストラクタ修正と参照追加
- [x] モバイル向け OpenGL ES 対応（GLFW 排除）

## モデル読み込み
- [ ] VRM パーサーの導入と検証
- [ ] マテリアル・テクスチャ適用ロジック
- [ ] 複数モデルを読み込んだ際の描画テスト
- [ ] FBX / PMX から VRM への変換手順をドキュメント化

## 姿勢推定
- [ ] MediaPipe Pose の ONNX モデル取得手順まとめ
- [ ] ONNX Runtime での推論パイプライン構築
- [ ] 動画ファイルからのフレーム抽出処理
- [ ] 推論結果 (JointData) の保存と可視化ツール

## モーション生成
- [ ] MotionData のスキーマ設計と実装
- [ ] JointData から MotionData への変換
- [ ] スムージングアルゴリズムの検討・実装
- [ ] モデルボーンへ適用して再生確認

## カメラ・センサー連携
- [ ] ジャイロセンサーから姿勢情報を取得する仕組み
- [ ] センサーが無い環境向けマウスデバッグモード
- [ ] （任意）AR 追跡方式の調査と実験

## 録画機能
- [ ] フレームをバッファに保存し動画へエンコード
- [ ] 録画ファイルの保存先管理と再生ビューア
- [ ] 保存後のサムネイル生成と共有機能

## UI ワークフロー
- [ ] JSON で UI レイアウトを定義する仕組み
- [ ] ボタン・トグルと各機能の紐付け
- [ ] 進捗バーやメッセージの表示制御
- [x] "カメラライク" レイアウト v3 の実装
- [x] モードカルーセル / シャッターボタン UI 微調整
- [x] モードカルーセルのスワイプ操作実装
- [x] "iPhone Camera" 風モードカルーセルとUI細部調整
- [x] モードカルーセル余白調整とスクロールバー透明化
- [x] モードカルーセル中心固定とシャッターボタン配色修正
- [x] モードカルーセルのスナップ速度調整と1ページ制限
- [x] モードカルーセルのタップ切り替え対応
- [x] 全画面切り替えボタン削除とジョイスティックUI追加
- [x] モードカルーセル初期ハイライト修正とジョイスティック周辺ボタン削除
- [x] シャッターボタン位置調整と全画面切り替えアニメーション
- [x] ジョイスティック操作でボタンが動かない不具合修正
- [x] モードカルーセルをボタン式に変更しスワイプ操作を改善
- [x] モードカルーセルのタップ決定仕様変更とスクロール無効化
- [x] モードカルーセル左右スクロールを完全無効化
- [x] モードカルーセル削除とハンバーガーメニュー追加
- [x] ハンバーガーメニュー項目修正と背景透明化
- [x] グリッド描画安定化とレイアウト比率修正

## ドキュメント整備
- [ ] README の更新（環境構築手順など）
- [ ] モデル変換ガイドの追加
- [ ] リリースノートの作成

## 進捗管理の方針
- 具体的な実装に着手する際は、該当項目のチェックを入れつつ詳細を追加します。
- 大きな変更を行う際は、事前に TODO.md を更新し開発の見通しを共有してください。
