<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MiniMikuDanceMaui.CapturePage"
             Title="Capture"
             BackgroundColor="Black">
    <ContentPage.MenuBarItems>
        <MenuBarItem Text="File" />
        <MenuBarItem Text="Edit" />
        <MenuBarItem Text="Selection" />
        <MenuBarItem Text="View">
            <MenuFlyoutItem Text="HOME" Clicked="OnHomeClicked" />
        </MenuBarItem>
        <MenuBarItem Text="Page">
            <MenuFlyoutItem Text="CAMERA" Clicked="OnPageCameraClicked" />
            <MenuFlyoutItem Text="HOME" Clicked="OnPageHomeClicked" />
        </MenuBarItem>
        <MenuBarItem Text="Setting">
            <MenuFlyoutItem Text="Open" Clicked="OnSettingClicked" />
        </MenuBarItem>
        <MenuBarItem Text="Help" />
    </ContentPage.MenuBarItems>
    <Grid RowDefinitions="Auto,Auto,*">
        <!-- 上部メニュー -->
        <HorizontalStackLayout x:Name="TopMenu" BackgroundColor="#2A2A2A"
                               Spacing="20" Padding="10,0" HeightRequest="36">
            <Label Text="File" TextColor="White"/>
            <Label Text="Edit" TextColor="White"/>
            <Label Text="Selection" TextColor="White"/>
            <Label Text="View" TextColor="White"/>
            <Label Text="Page" TextColor="White"/>
            <Label Text="Setting" TextColor="White"/>
            <Label Text="Help" TextColor="White"/>
        </HorizontalStackLayout>

        <!-- ページタブ -->
        <HorizontalStackLayout x:Name="TopTabs" Grid.Row="1" BackgroundColor="#2A2A2A"
                               Spacing="20" Padding="10,0" HeightRequest="36">
            <Label Text="HOME" TextColor="White">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnPageHomeClicked" />
                </Label.GestureRecognizers>
            </Label>
            <Label Text="CAMERA" TextColor="White">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnPageCameraClicked" />
                </Label.GestureRecognizers>
            </Label>
        </HorizontalStackLayout>

        <!-- メインコンテンツ -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <WebView x:Name="CameraPreview" Grid.Row="0" />
            <Label x:Name="StatusLabel" Text="" TextColor="White"
                   HorizontalOptions="Center" VerticalOptions="Start"
                   Margin="0,20" />
            <Frame Padding="6" CornerRadius="46" BackgroundColor="White" Grid.Row="1"
                   HorizontalOptions="Center" VerticalOptions="End"
                   Margin="0,0,0,40">
                <Button x:Name="RecordButton" Clicked="OnRecordClicked"
                        BackgroundColor="Red" WidthRequest="80" HeightRequest="80"
                        CornerRadius="40" />
            </Frame>
        </Grid>
    </Grid>
</ContentPage>
