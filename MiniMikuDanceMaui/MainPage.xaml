<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MiniMikuDanceMaui.MainPage">
    <AbsoluteLayout x:Name="RootLayout">
        <!-- 1. statusRibbon -->
        <Grid x:Name="StatusRibbon" BackgroundColor="#222" HeightRequest="24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Label x:Name="StatusText" Grid.Column="0" Padding="8,0" FontSize="12" VerticalOptions="Center" />
            <StackLayout x:Name="ChipContainer" Grid.Column="1" Orientation="Horizontal" Spacing="4" Margin="0,0,4,0" />
        </Grid>
        <ProgressBar x:Name="ProgressBar" IsVisible="False" HeightRequest="4" />
        <Label x:Name="MessageLabel" FontSize="12" />
        <Label x:Name="RecordingLabel" Text="● REC" TextColor="Red" IsVisible="False" />
        <Image x:Name="ThumbnailImage" HeightRequest="40" IsVisible="False" />

        <!-- 2. centerStage -->
        <ContentView x:Name="CenterStage" BackgroundColor="Black" />

        <!-- 3. commandRail -->
        <Grid x:Name="CommandRail" BackgroundColor="#333" HeightRequest="72" ColumnSpacing="20" Padding="16,0" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Button x:Name="PlayBtn" Grid.Column="0" WidthRequest="56" HeightRequest="56" VerticalOptions="Center" />
            <Button x:Name="RecBtn" Grid.Column="1" WidthRequest="56" HeightRequest="56" VerticalOptions="Center" />
            <Button x:Name="ArToggle" Grid.Column="2" WidthRequest="56" HeightRequest="56" VerticalOptions="Center" />
            <Button x:Name="ShareBtn" Grid.Column="4" WidthRequest="56" HeightRequest="56" VerticalOptions="Center" />
        </Grid>

        <!-- 4. contextDock -->
        <Grid x:Name="ContextDock" BackgroundColor="#444" WidthRequest="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="48" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid x:Name="TabBar" BackgroundColor="#555" />
            <ScrollView Grid.Row="1">
                <VerticalStackLayout Padding="10">
                    <VerticalStackLayout x:Name="ButtonContainer" Spacing="10" />
                    <VerticalStackLayout x:Name="ToggleContainer" Spacing="10" />
                </VerticalStackLayout>
            </ScrollView>
        </Grid>

        <!-- 5. quickStack -->
        <VerticalStackLayout x:Name="QuickStack" Spacing="16">
            <Button x:Name="FabImport" WidthRequest="56" HeightRequest="56" />
            <Button x:Name="FabAI" WidthRequest="56" HeightRequest="56" />
        </VerticalStackLayout>
    </AbsoluteLayout>
</ContentPage>
