<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:MiniMikuDanceMaui"
             x:Class="MiniMikuDanceMaui.BoneView"
             BackgroundColor="{StaticResource BackgroundColor}">
    <ScrollView>
    <VerticalStackLayout Spacing="10" Padding="10">
        <Picker x:Name="BonePicker" Title="Bone" SelectedIndexChanged="OnBoneSelected"/>
        <HorizontalStackLayout Spacing="10">
            <Button Text="AllReset" Clicked="OnResetClicked" />
        </HorizontalStackLayout>
        <local:BoneAxisControl x:Name="RotXControl" ValueFormat="F0"
                               CenterChanged="OnCenterXChanged"
                               ValueChanged="OnXChanged" />
        <local:BoneAxisControl x:Name="RotYControl" ValueFormat="F0"
                               CenterChanged="OnCenterYChanged"
                               ValueChanged="OnYChanged" />
        <local:BoneAxisControl x:Name="RotZControl" ValueFormat="F0"
                               CenterChanged="OnCenterZChanged"
                               ValueChanged="OnZChanged" />
        <local:BoneAxisControl x:Name="PosXControl" ValueFormat="F2"
                               CenterChanged="OnCenterTXChanged"
                               ValueChanged="OnTXChanged" />
        <local:BoneAxisControl x:Name="PosYControl" ValueFormat="F2"
                               CenterChanged="OnCenterTYChanged"
                               ValueChanged="OnTYChanged" />
        <local:BoneAxisControl x:Name="PosZControl" ValueFormat="F2"
                               CenterChanged="OnCenterTZChanged"
                               ValueChanged="OnTZChanged" />

        <!-- IK Target Input -->
        <Label Text="IK Target" FontAttributes="Bold" />
        <Picker x:Name="IkBonePicker" Title="Target Bone" />
        <Grid ColumnDefinitions="Auto,Auto,Auto" ColumnSpacing="6">
            <Entry x:Name="IkXEntry" Placeholder="X" Keyboard="Numeric" WidthRequest="60" />
            <Entry x:Name="IkYEntry" Placeholder="Y" Keyboard="Numeric" WidthRequest="60" Grid.Column="1" />
            <Entry x:Name="IkZEntry" Placeholder="Z" Keyboard="Numeric" WidthRequest="60" Grid.Column="2" />
        </Grid>
        <Button Text="Solve IK" Clicked="OnSolveIkClicked" />

        <!-- Rotation Limits -->
        <Label Text="Rotation Limits" FontAttributes="Bold" />
        <Grid ColumnDefinitions="Auto,Auto,Auto" ColumnSpacing="4">
            <Label Text="X" VerticalOptions="Center" />
            <Entry x:Name="RotXMinEntry" Placeholder="Min" WidthRequest="60" Keyboard="Numeric" Grid.Column="1" />
            <Entry x:Name="RotXMaxEntry" Placeholder="Max" WidthRequest="60" Keyboard="Numeric" Grid.Column="2" />
        </Grid>
        <Grid ColumnDefinitions="Auto,Auto,Auto" ColumnSpacing="4">
            <Label Text="Y" VerticalOptions="Center" />
            <Entry x:Name="RotYMinEntry" Placeholder="Min" WidthRequest="60" Keyboard="Numeric" Grid.Column="1" />
            <Entry x:Name="RotYMaxEntry" Placeholder="Max" WidthRequest="60" Keyboard="Numeric" Grid.Column="2" />
        </Grid>
        <Grid ColumnDefinitions="Auto,Auto,Auto" ColumnSpacing="4">
            <Label Text="Z" VerticalOptions="Center" />
            <Entry x:Name="RotZMinEntry" Placeholder="Min" WidthRequest="60" Keyboard="Numeric" Grid.Column="1" />
            <Entry x:Name="RotZMaxEntry" Placeholder="Max" WidthRequest="60" Keyboard="Numeric" Grid.Column="2" />
        </Grid>
    </VerticalStackLayout>
    </ScrollView>
</ContentView>
